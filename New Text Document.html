<html>
  <body>

    <form id="form">
      <input type="file" id="file"> 
      <button type="submit">Submit</button>
    </form>

    <script src="https://cdn.jsdelivr.net/npm/ipfs@0.57.0/dist/index.min.js"></script>

    <script>
      const form = document.getElementById('form');

      form.addEventListener('submit', async (e) => {
        e.preventDefault();

        const file = document.getElementById('file').files[0];

        if (!file) {
          return alert('no files');
        }

        const ipfs = await Ipfs.create();
        const added = await ipfs.add(file);
        const ipfsHash = added.cid.toString();

        alert('https://ipfs.io/ipfs/' + ipfsHash);
      });
    </script>
  </body>
</html>
